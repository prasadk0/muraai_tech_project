<div class="productpage " id="productpage">
  <div class="accordion  w-4/5  mx-auto pt-4">
    <div class="border p-2">
      <div class="flex justify-between items-center">
        <h2 class="text-lg font-semibold">Search</h2>
        <button
          (click)="toggleAccordion()"
          class="text-gray-600 hover:text-gray-900 transition"
        >
          {{ isAccordionOpen ? "Close" : "Open" }}
          <!-- *ngIf="condition; else elseBlock -->
        </button>
      </div>
      <div [ngClass]="{ hidden: !isAccordionOpen }" class="mt-2">
        <!-- Accordion Content -->
        <input
          type="text"
          class="mb-5 p-2"
          placeholder="Search item..."
          [(ngModel)]="key"   />
      </div>
    </div>
  </div>
  
  <section class="container mx-auto p-6 font-mono">
    <div class="w-full mb-8 overflow-hidden rounded-lg shadow-lg">
      <div class="w-full overflow-x-auto">
        <table class="w-full">
          <thead>
            <tr
              class="text-md font-semibold tracking-wide text-left text-gray-900 bg-gray-100 uppercase border-b border-gray-600"
            >
              <th
                class="px-4 py-3"
                [appSort]="jsonData"
                data-order="desc"
                data-name="id"
                scope="col"
              >
                Id
              </th>
              <th class="px-4 py-3">Title</th>
              <th
                class="px-4 py-3"
                data-order="desc"
                data-name="price"
                scope="col"
              >
                price
              </th>
              <th class="px-4 py-3">Description</th>
            </tr>
          </thead>
          <tbody
            class="bg-white"
            *ngFor="let item of jsonData | filterpipe : key"
          >
            <tr class="text-gray-700">
              <td
                (click)="click(item)"
                class="px-4 py-3 text-ms font-semibold border"
              >
                {{ item.id }}
              </td>
              <td class="px-4 py-3 text-ms font-semibold border">
                {{ item.title }}
              </td>
              <td class="px-4 py-3 text-xs border">
                {{ item.price }}
                <!-- <td class="px-4 py-3 text-sm border">{{item.Description}}</td> -->
              </td>
              <td class="px-4 py-3 text-sm border">{{ item.description }}</td>
            
            <td  (click)="getId(item.id)" class="px-4 py-3 text-sm border" onclick="my_modal_4.showModal()">
              <svg class="h-8 w-8 text-blue-500"   width="24"  height="24"  viewBox="0 0 24 24"  xmlns="http://www.w3.org/2000/svg"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round">  <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" />  <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" /></svg></td>
              <td    (click)="getId(item.id)" class="px-4 py-3 text-sm border " onclick="my_modal_5.showModal()">
                <svg class="h-8 w-8 text-red-500"  fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                </svg>
                </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>
</div>


    <div id="loader"  class="text-center flex justify-center">
      <div class="flex justify-center items-center h-full">
        <img class="h-16 w-16" src="https://icons8.com/preloaders/preloaders/1488/Iphone-spinner-2.gif" alt="">
      </div>
    </div>
  
    <!-- <button class="btn" >open modal</button> -->
   <!-- Open the modal using ID.showModal() method -->
<!-- <button class="btn" onclick="my_modal_5.showModal()">open modal</button> -->
<dialog id="my_modal_5" class="modal modal-bottom sm:modal-middle p-10 rounded-lg ">
  <div class="modal-box">
    <h3 class="font-bold text-lg">Are you sure to delete this product?</h3>
    <!-- <p class="py-4">Press ESC key or click the button below to close</p> -->
    <div class="modal-action">
      <form method="dialog">
        <!-- if there is a button in form, it will close the modal -->
       <div class="flex flex-row"> <button class="btn mr-2 p-2  border-solid border-yellow-300">Close</button> <button (click)="deleteItem()" class="btn p-2 border-solid border-yellow-300" >ok</button></div>
      </form>
    </div>
  </div>
</dialog>


<dialog id="my_modal_4" class="modal modal-bottom sm:modal-middle p-10 rounded-lg ">
  <div class="modal-box">
    <h3 class="font-bold text-lg">Edit Details</h3>
    <!-- <p class="py-4">Press ESC key or click the button below to close</p> -->
    <div class="modal-action">
      <form method="dialog">
        <!-- if there is a button in form, it will close the modal -->
      <input type="text" placeholder="Title"  class="input input-bordered w-full max-w-xs mb-4 p-4" #title>
      <input type="text" placeholder="Price" class="input input-bordered w-full max-w-xs mb-4 p-4" #price>
      <input type="text" placeholder="Description" class="input input-bordered w-full max-w-xs mb-4 p-4" #desc>

       <div class="flex flex-row justify-end"> <button class="btn mr-2 p-2  border-solid border-yellow-300">Close</button> <button class="btn p-2 border-solid border-yellow-300"  (click) =update(title.value,price.value,desc.value) >ok</button></div>
      </form>
    </div>
  </div>
</dialog>